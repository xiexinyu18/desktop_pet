# Changelog

所有重要变更都会记录在此文件。版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [Unreleased]（feature/login-guest-plaza）

### 新增

- **登录 / 注册**
  - 欢迎界面：登录、注册、访客进入
  - 账号密码注册与登录（本地存储、密码加盐哈希）
  - 注册后引导：上传猫咪照片 → 生成桌宠形象（MVP 使用照片作为形象）→ 创建桌宠
- **访客模式**
  - 访客仅可进入「广场」，不可创建自己的小猫
  - 广场以网格展示所有用户公开的桌宠（头像 + 名字）
- **桌宠形象与动效**
  - 使用用户上传的猫咪照片作为桌宠头像展示
  - 待机时自动眨眼、轻微弹跳，更生动可爱
  - 检测到宠物时「眼睛一亮」高光效果（头像模式与几何模式均支持）
- **档案扩展**
  - 宠物档案增加 `owner_id`（主人用户 ID）、`is_public`（是否在广场展示）
  - `ProfileStore.list_by_owner()`、`list_public()` 支持登录与广场

### 技术

- 新增 `desktop_pet.auth`：User 模型、AuthStore、Session
- 新增 `desktop_pet.ui`：WelcomeDialog、LoginDialog、RegisterDialog、OnboardingDialog、PlazaWindow
- 数据目录：`data/auth`（用户）、`data/avatars`（上传/生成形象）

---

## [1.0.0] - 2025-02-01

### 新增（MVP）

- **桌面端**
  - 桌面宠物常驻窗口（置顶、透明/无边框）
  - 支持拖拽移动
  - 基础待机/“眼睛一亮”动效逻辑（与摄像头检测联动）
- **权限**
  - 主人 / 游客身份区分
  - 游客仅限虚拟互动，不触发真实宠物相关能力
- **宠物档案**
  - 宠物基础信息与虚拟生日
  - 本地档案存储（SQLite/JSON）
- **健康管理**
  - 喂食、梳毛、猫砂清理定时提醒
  - 提醒记录与下次提醒时间计算
- **摄像头**
  - 摄像头检测模块（可选），检测到宠物时触发桌面端动效

### 技术

- Python 3.8+，PyQt6 桌面窗口
- OpenCV 摄像头与简单检测接口
- 结构化配置与数据目录

### 说明

- **本版（1.0.0）为基准版本，后续所有更新均基于此版本迭代。**
- 后续功能（生日庆典、生命周期、健康档案册、相册、节日装扮等）均在此基础上开发。
